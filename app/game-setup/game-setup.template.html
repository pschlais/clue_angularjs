<div id="game-setup">
	<h1>Game Setup</h1>
	<div>
		<h2>Main Player (You)</h2>
		Input your cards ({{$ctrl.mainPlayer.cards.length}}):
		<button ng-click="$ctrl.addCard()" ng-disabled="$ctrl.mainPlayerCardsAtMax()">Add Card</button>
		<!-- <input type="number" ng-model="$ctrl.mainPlayer.cardCount" min="1" max="6"> cards
		<button ng-click="$ctrl.updateCardCount($ctrl.mainPlayer.cardCount)">Update Card Fields</button> -->
		<ol>
			<li ng-repeat="card in $ctrl.mainPlayer.cards track by $index">
				<select ng-model="$ctrl.mainPlayer.cards[$index]">
					<option value=""></option>
					<option ng-repeat="option in $ctrl.allCards" ng-value="option">{{option}}</option>
				</select>
				<button ng-if="$index >= $ctrl.minCards" ng-click="$ctrl.removeCard($index)">Remove Card</button>
			</li>
		</ol>
	</div>
	<!-- Input validators -->
	<p>Requirements:</p>
	<div>
		<img ng-src="{{$ctrl.validateCardsFilled() && 'img/checkmark.png' || 'img/redx.png'}}" class="gsValidateIcon">
		<p ng-class="{gsValid: $ctrl.validateCardsFilled(), gsInvalid: !$ctrl.validateCardsFilled()}">All card fields are filled</p>
	</div>
	<div>
		<img ng-src="{{$ctrl.validateCardsUnique() && 'img/checkmark.png' || 'img/redx.png'}}" class="gsValidateIcon">
		<p ng-class="{gsValid: $ctrl.validateCardsUnique(), gsInvalid: !$ctrl.validateCardsUnique()}">All card fields are unique</p>
	</div>

	<!-- Other players -->
	<h2>Other players ({{$ctrl.otherPlayers.length}}) [max: 5]</h2>
	<button ng-click="$ctrl.addOtherPlayer()" ng-disabled="$ctrl.otherPlayerCountAtMax()">Add Player</button>
	<table>
		<tr>
			<th>Name</th>
			<th>Card Count</th>
		</tr>
		<tr ng-repeat="player in $ctrl.otherPlayers track by $index">
			<td><input type="text" ng-model="$ctrl.otherPlayers[$index].name"></td>
			<td><input type="number" ng-model="$ctrl.otherPlayers[$index].cardCount" min="{{$ctrl.minCards}}" max="{{$ctrl.maxCards}}"></td>
			<td><button ng-if="$index >= $ctrl.minOtherPlayers" ng-click="$ctrl.removePlayer($index)">Remove Player</button></td>
		</tr>
	</table>
	<!-- Input validators -->
	<p>Requirements:</p>
	<div>
		<img ng-src="{{$ctrl.validatePlayersFilled() && 'img/checkmark.png' || 'img/redx.png'}}" class="gsValidateIcon">
		<p ng-class="{gsValid: $ctrl.validatePlayersFilled(), gsInvalid: !$ctrl.validatePlayersFilled()}">All player name fields are filled</p>
	</div>
	<div>
		<img ng-src="{{$ctrl.validatePlayersUnique() && 'img/checkmark.png' || 'img/redx.png'}}" class="gsValidateIcon">
		<p ng-class="{gsValid: $ctrl.validatePlayersUnique(), gsInvalid: !$ctrl.validatePlayersUnique()}">All player names are unique</p>
	</div>
	<div>
		<img ng-src="{{$ctrl.validateCardCount() && 'img/checkmark.png' || 'img/redx.png'}}" class="gsValidateIcon">
		<p ng-class="{gsValid: $ctrl.validateCardCount(), gsInvalid: !$ctrl.validateCardCount()}">The total number of cards adds up to 18 (current: {{$ctrl.getCardCount()}})</p>
	</div>
	<button ng-disabled="!($ctrl.allInputsValidated())">Start Game!</button>
	
	

	<br>
	<br>
	<h2>Angular controller status</h2>
	<p>$ctrl.mainPlayer</p>
	<pre>name: {{$ctrl.mainPlayer.name}}</pre>
	<pre>cardCount: {{$ctrl.mainPlayer.cardCount}}</pre>
	<pre>cards: {{$ctrl.mainPlayer.cards}}</pre>
	<br>
	<p>$ctrl.otherPlayers</p>
	<span ng-repeat="player in $ctrl.otherPlayers track by $index">
		<h5>Player {{$index+1}}</h5>
		<pre>name: {{$ctrl.otherPlayers[$index].name}}</pre>
		<pre>cardCount: {{$ctrl.otherPlayers[$index].cardCount}}</pre>
	</span>
</div>
